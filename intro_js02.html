<!DOCTYPE html>
<html>
<head>
  <title>Javascript Learning</title>
</head>
<body>
  <h1>Javascript Learning</h1>
  <script>

  // Return a list of fibonacci numbers going up to but not beyond max.
  function fibonacciSet(max) {
    if (max > 1) {
      var fibList = [1];
      var currentFib = 1;
      while (currentFib < max) {
        fibList.push(currentFib);
        currentFib = fibList[fibList.length-1] + fibList[fibList.length-2];
      } 
      return fibList;
     } else {
          return [1, 1];
      }
  }

  // Return a list containing all the even numbers from fibList.
  function filter(fibList) {
    isEven = [];
    for (var i = 0; i < fibList.length; i++) {
      if (fibList[i] % 2 === 0) {
        isEven.push(fibList[i]);
      }
    }
    return isEven;
  }

  // Return the sum of the numbers in anArray.
  function sum(anArray) {
    sum = 0
    for(var i = 0; i < anArray.length; i++) {
      sum = sum + anArray[i];
    }
    return sum;
  }

  // Print the sum of all even numbers in a fibbonacci sequence up to max.
  console.log(sum(filter(fibonacciSet(4000000))));  

  </script>
</body>
</html>


